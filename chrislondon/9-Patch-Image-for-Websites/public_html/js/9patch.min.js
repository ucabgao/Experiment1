window.attachEvent?window.attachEvent("onload",l):window.addEventListener?window.addEventListener("load",l,!1):document.addEventListener("load",l,!1);function l(){var a=document.getElementsByTagName("div"),b;for(b in a)n(a[b],"background-image").match(/\.9\.(png|gif)/i)&&new o(a[b])}function n(a,b){if(window.getComputedStyle){var d=window.getComputedStyle(a,"");if(d==null)return"";return d.getPropertyValue(b)}else return a.currentStyle?a.currentStyle[b]:""}
function o(a){this.c=a;this.d=new Image;this.d.src=n(this.c,"background-image").replace(/"/g,"").replace(/url\(|\)$/ig,"");this.e=n(this.c,"background-color");this.c.style.background="none";this.c.style.backgroundRepeat="no-repeat";a=document.createElement("canvas").getContext("2d");a.drawImage(this.d,0,0);var b=a.getImageData(0,0,this.d.width,1).data,d=b.length-4,i=b[0]+","+b[1]+","+b[2]+","+b[3],d=b[d]+","+b[d+1]+","+b[d+2]+","+b[d+3];this.b=q(b,i,d);b=a.getImageData(0,0,1,this.d.height).data;this.a=
q(b,i,d);r(this);var e=this;this.c.onresize=function(){r(e)}}o.prototype.c=null;o.prototype.b=null;o.prototype.a=null;o.prototype.d=null;function q(a,b,d){var i,e,h,j,c=[];h=a[4]+","+a[5]+","+a[6]+","+a[7];i=h==b?"s":h==d?"r":"d";e=1;for(var f=4,g=a.length-4;f<g;f+=4)h=a[f]+","+a[f+1]+","+a[f+2]+","+a[f+3],j=h==b?"s":h==d?"r":"d",i!=j&&(h=f/4-e,c.push([i,e,h]),i=j,e=f/4);c.push([i,e,f/4-e]);return c}
function r(a){var b,d,i,e;i=a.c.offsetWidth;e=a.c.offsetHeight;d=document.createElement("canvas");b=d.getContext("2d");d.width=i;d.height=e;for(var h,j=h=0,c=0,f=a.b.length;c<f;c++)a.b[c][0]=="s"?h+=a.b[c][2]:j++;h=(i-h)/j;for(var g=0,c=j=0,f=a.a.length;c<f;c++)a.a[c][0]=="s"?g+=a.a[c][2]:j++;e=(e-g)/j;c=0;for(j=a.a.length;c<j;c++){g=0;for(f=a.b.length;g<f;g++){var m,p;m=a.b[g][0]=="d"?h:a.b[g][2];p=a.a[c][0]=="d"?e:a.a[c][2];if(a.a[c][0]!="r")b.drawImage(a.d,a.b[g][1],a.a[c][1],a.b[g][2],a.a[c][2],
0,0,m,p);else{var k=document.createElement("canvas");k.width=a.b[g][2];k.height=a.a[c][2];k.getContext("2d").drawImage(a.d,a.b[g][1],a.a[c][1],a.b[g][2],a.a[c][2],0,0,a.b[g][2],a.a[c][2]);k=b.createPattern(k,"repeat");b.fillStyle=k;b.fillRect(0,0,m,p)}b.translate(m,0)}b.translate(-i,a.a[c][0]=="s"?a.a[c][2]:e)}a.c.style.background=a.e+" url("+d.toDataURL("image/png")+")"};